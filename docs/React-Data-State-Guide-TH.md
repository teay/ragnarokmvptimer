# คู่มือสอนมือใหม่: การจัดการข้อมูล (Data) และสถานะ (State) ใน React ด้วย TypeScript

คำแนะนำนี้จะแบ่งเป็น 2 ส่วนหลักๆ โดยแนะนำให้เริ่มเรียนรู้จาก "การจัดการข้อมูล" ก่อน เพราะเป็นสิ่งที่จับต้องและเห็นภาพได้ง่ายกว่า

---

## 1. การจัดการข้อมูล (Data Handling)

ส่วนนี้คือการออกแบบและจัดเตรียมข้อมูลให้พร้อมใช้งาน

### ขั้นตอนที่ 1: "ข้อมูลของเราหน้าตาเป็นอย่างไร?" (การใช้ `interface`)

**แนวคิด:** ก่อนจะเริ่มเขียนโค้ด เราต้องออกแบบ "พิมพ์เขียว" หรือ "โครงสร้าง" ของข้อมูลก่อน เพื่อให้ข้อมูลทุกชิ้นมีรูปแบบเดียวกันเสมอ ใน TypeScript เราใช้ `interface` ในการสร้างพิมพ์เขียวนี้

**ตัวอย่าง:**
สมมติเราจะเก็บข้อมูล MVP เราอยากรู้อะไรเกี่ยวกับมันบ้าง?
*   ชื่อ (name)
*   เลือด (hp)
*   แผนที่ที่อยู่ (map)

จากนั้นแปลงเป็นโค้ด:

```typescript
// ในไฟล์ src/interfaces/index.ts
interface MvpData {
  id: number;
  name: string;
  hp: number;
  map: string;
}
```

> **เป้าหมาย:** ให้มือใหม่เข้าใจว่า `interface` คือการ "บังคับ" โครงสร้างของข้อมูลให้เป็นระเบียบ

### ขั้นตอนที่ 2: "เราจะเก็บข้อมูลไว้ที่ไหน?" (การสร้างไฟล์ข้อมูล)

**แนวคิด:** สำหรับแอปที่ไม่ซับซ้อน เราสามารถเก็บข้อมูลดิบไว้ในไฟล์ `.json` หรือ `.ts` ได้เลย เพื่อรอเรียกใช้งาน

**ตัวอย่าง:**
สร้างไฟล์ `src/data/myMvps.ts` แล้วนำ `interface` ที่สร้างไว้มาใช้กับข้อมูลจริง

```typescript
// ในไฟล์ src/data/myMvps.ts
import { MvpData } from '../interfaces'; // อ้างอิงพิมพ์เขียวที่เราสร้าง

export const myMvpList: MvpData[] = [
  { id: 1039, name: 'Golden Thief Bug', hp: 78000, map: 'prt_sewb4' },
  { id: 1112, name: 'Drake', hp: 184000, map: 'treasure02' },
];
```

> **เป้าหมาย:** ให้มือใหม่เห็นว่าข้อมูลจริงถูกสร้างขึ้นตามโครงสร้างที่ออกแบบไว้ และสามารถ `export` ออกไปให้ไฟล์อื่นใช้ได้

---

## 2. การจัดการสถานะ (State Management)

หลังจากมีข้อมูลแล้ว ก็มาถึงขั้นตอนการ "ทำให้ข้อมูลมีชีวิต" และสามารถเปลี่ยนแปลงได้บนหน้าจอ

### ขั้นตอนที่ 1: "สถานะ (State) คืออะไร?" (การใช้ `useState`)

**แนวคิด:** "State" คือข้อมูลที่ "เปลี่ยนแปลงได้" และเมื่อมันเปลี่ยน React จะทำการ "วาดหน้าจอใหม่" (re-render) ให้โดยอัตโนมัติ `useState` คือเครื่องมือพื้นฐานที่สุดในการสร้าง State

**ตัวอย่าง:**
สร้าง Component ง่ายๆ เพื่อแสดงข้อมูล MVP ที่เราสร้างไว้

```tsx
import React, { useState } from 'react';
import { myMvpList } from '../data/myMvps'; // นำเข้าข้อมูลจากขั้นตอนที่แล้ว
import { MvpData } from '../interfaces';

function MvpListPage() {
  // ใช้ useState เพื่อให้ React "รู้จัก" และ "คอยดู" ข้อมูลชุดนี้
  const [mvps, setMvps] = useState<MvpData[]>(myMvpList);

  return (
    <div>
      <h1>My MVP List</h1>
      {/* ใช้ .map() เพื่อวนลูปแสดงผลข้อมูลแต่ละชิ้น */}
      {mvps.map(mvp => (
        <div key={mvp.id}>
          <p>{mvp.name} - HP: {mvp.hp}</p>
        </div>
      ))}
    </div>
  );
}
```

> **เป้าหมาย:** ให้มือใหม่เข้าใจว่า `useState` คือเครื่องมือพื้นฐานในการทำให้ข้อมูลโต้ตอบกับหน้าจอได้

### ขั้นตอนที่ 2: "ถ้าข้อมูลต้องใช้ร่วมกันหลายที่ล่ะ?" (การใช้ `Context API`)

**แนวคิด:** อธิบายปัญหา **"Prop Drilling"** ซึ่งคือการส่งข้อมูลผ่าน props ต่อๆ กันไปหลายทอดเหมือนส่งของต่อกันเป็นทอดๆ ทำให้โค้ดซับซ้อนและดูแลยาก

จากนั้นแนะนำ `Context` ว่าเป็นเหมือน **"ห้องเก็บของส่วนกลาง"** ที่ Component ไหนๆ ก็สามารถเดินเข้ามาหยิบของ (ข้อมูล) ไปใช้ได้เลย ไม่ต้องรอรับของต่อจากใคร

**ตัวอย่าง:**
"สมมติเรามีปุ่มตั้งค่าธีม (Dark/Light mode) อยู่ที่ Header แต่หน้าเว็บทั้งหน้าต้องเปลี่ยนสีตาม"

1.  **สร้าง Context:** สร้าง `ThemeContext` ขึ้นมาเพื่อเก็บค่า `theme` (เช่น 'light' หรือ 'dark') และฟังก์ชัน `setTheme`
2.  **Provide (ให้บริการ):** ให้ Component ระดับบนสุด (เช่น `App.tsx`) เป็นตัว "Provider" เพื่อกระจายข้อมูลนี้ไปทั่วทั้งแอป
3.  **Consume (ใช้งาน):** ให้ Component ที่ต้องการใช้ (เช่น Header, MvpCard) เป็น "Consumer" โดยใช้ Hook `useContext` เพื่อดึงค่า `theme` จากส่วนกลางไปใช้งาน

> **เป้าหมาย:** ให้มือใหม่เข้าใจแนวคิดของ "Global State" (สถานะส่วนกลาง) ว่ามีไว้เพื่อแก้ปัญหาข้อมูลที่ต้องใช้ร่วมกันในหลายๆ ที่ที่อยู่ห่างกัน

### สรุปเส้นทางการเรียนรู้

1.  **Data Handling ก่อน:** สอนให้สร้าง `interface` -> สร้างไฟล์ข้อมูล `.ts`
2.  **State Management ทีหลัง:** สอน `useState` สำหรับ Component เดียว -> อธิบายปัญหา Prop Drilling -> สอน `Context` สำหรับข้อมูลที่ใช้ร่วมกัน
3.  **ใช้ตัวอย่างง่ายๆ:** เริ่มจากตัวอย่างเล็กๆ เช่น รายชื่อ, ปุ่มนับเลข, ปุ่มเปลี่ยนธีม แล้วค่อยเชื่อมโยงกับโปรเจกต์จริง
